<div class="dashboard">
    <div class="row d-flex align-items-center mb-6">
        <div class="col-lg-4 description col-md-8 m-auto">
            <div class="admin  mt-5 ">
                <div class="icon">
                    <img src="../../././../assets/images/medal.png" alt="">
                </div>
                <h2 class="mt-4">Congratulations John,</h2>
                <p class="text">
                    This page can be accessed only by administrators. All users from secure
                    (admin only) api end point. John Doe (Admin), Nataly Doe (Client), Rose Doe (User),
                </p>
            </div>
        </div>

        <!-- chart -->
        <div class="col-lg-8 flow-charts col-md-12">
            <div class="row">
                <div class="col-md-6 col-sm-12 mt-5 ">
                    <div style="background: white;border-radius: 12px;">
                        <canvas id="lineChart"></canvas>
                    </div>
                </div>

                <div class="col-md-6 col-sm-12 mt-5">
                    <div style="background: white;border-radius: 12px;">
                        <canvas id="plots"></canvas>
                    </div>
                </div>
            </div>
        </div>

    </div>





    <h1 class="table-name">Last Donors</h1>
    <div class="tab">
        <table class="table ">
            <thead class="table-secondary">
                <th>#</th>
                <th>Name</th>
                <th>ID</th>
                <th>Address</th>
                <th>Phone</th>
                <th>Blood Type</th>
                <th>Created At</th>
                <th>Actions</th>
            </thead>

            <tr *ngFor="let d of AllDonners; let i = index">
                <td>{{i+1}}</td>
                <td>{{d.name}}</td>
                <td class="blueData">{{d.national_id}}</td>
                <td>{{d.address}}</td>
                <td>{{d.mobile}}</td>
                <td>{{d.blood_type}}</td>
                <td class="blueData">{{d.created_at | slice :0:10}}</td>
                <td>
                    <span class="icona2"><i class="fa fa-trash" (click)="deleteDonor(d.id)"></i></span>
                </td>
            </tr>

        </table>
    </div>


    <h1 class="table-name">Last Patients</h1>
    <div class="tab">
        <table class="table ">
            <thead class="table-secondary">
                <th>Name</th>
                <th>ID</th>
                <th>Mobile</th>
                <th>Address</th>
                <th>Date Of Birth</th>
                <th>Sex</th>
                <th>Blood Type</th>
                <th>Social Status</th>
                <!-- <th>Last Seen</th> -->
                <th>Actions</th>
            </thead>

            <tr *ngFor="let u of AllUsers">
                <td>{{u.full_name}}</td>
                <td class="blueData">{{u.national_id}}</td>
                <td>{{u.mobile}}</td>
                <td class="blueData">{{u.address}}</td>
                <td>{{u.date_of_birth}}</td>
                <td>{{u.sex}}</td>
                <td class="blueData">{{u.blood_type}}</td>
                <td>{{u.social_status}}</td>
                <!-- <td >{{u.last_seen}}</td> -->
                <td>
                    <span class="icona2"><i class="fa fa-trash" (click)="deleteUser(u.id)"></i></span>
                </td>
            </tr>



        </table>
    </div>


    <h1 class="table-name">Last Disease</h1>
    <div class="tab">
        <table class="table disease">
            <thead class="table-secondary">
                <th>Id</th>
                <th>Name</th>
                <th>Description</th>
                <th>Syndrome</th>
                <th>Treatment</th>
                <th>Created_At</th>
                <th>Actions</th>
            </thead>

            <tr *ngFor="let d of AllDisease; let i = index">
                <td>{{i+1}}</td>
                <td>
                    {{d.chronic_disease}}
                </td>
                <td class="no-p">
                    <cdk-accordion class="example-accordion">
                        <cdk-accordion-item #accordionItem="cdkAccordionItem" class="example-accordion-item"
                            role="button" tabindex="0" [attr.id]="'accordion-header-' + i"
                            [attr.aria-expanded]="accordionItem.expanded" [attr.aria-controls]="'accordion-body-' + i">
                            <span class="example-accordion-item-header" (click)="accordionItem.toggle()">
                                {{d.description|slice:0:30}}<span class="example-accordion-item-body" role="region"
                                    [style.display]="accordionItem.expanded ? '' : 'none'"
                                    [attr.id]="'accordion-body-' + i"
                                    [attr.aria-labelledby]="'accordion-header-' + i">{{d.description|slice:30}}</span><span
                                    class="example-accordion-item-description text-primary">{{ accordionItem.expanded ?
                                    ' less' : ' more...' }}
                                </span>
                            </span>
                        </cdk-accordion-item>
                    </cdk-accordion>
                </td>
                <td class="no-p">
                    <cdk-accordion class="example-accordion">
                        <cdk-accordion-item #accordionItem1="cdkAccordionItem" class="example-accordion-item"
                            role="button" tabindex="0" [attr.id]="'accordion-header-' + i"
                            [attr.aria-expanded]="accordionItem1.expanded" [attr.aria-controls]="'accordion-body-' + i">
                            <span class="example-accordion-item-header" (click)="accordionItem1.toggle()">
                                {{d.syndrome|slice:0:30}}<span class="example-accordion-item-body" role="region"
                                    [style.display]="accordionItem1.expanded ? '' : 'none'"
                                    [attr.id]="'accordion-body-' + i"
                                    [attr.aria-labelledby]="'accordion-header-' + i">{{d.syndrome|slice:30}}</span><span
                                    class="example-accordion-item-description text-primary">{{ accordionItem1.expanded ?
                                    ' less' : ' more...' }}
                                </span>
                            </span>
                        </cdk-accordion-item>
                    </cdk-accordion>

                </td>
                <td class="no-p">

                    <cdk-accordion class="example-accordion">
                        <cdk-accordion-item #accordionItem2="cdkAccordionItem" class="example-accordion-item"
                            role="button" tabindex="0" [attr.id]="'accordion-header-' + i"
                            [attr.aria-expanded]="accordionItem2.expanded" [attr.aria-controls]="'accordion-body-' + i">
                            <span class="example-accordion-item-header" (click)="accordionItem2.toggle()">
                                {{d.treatment|slice:0:30}}<span class="example-accordion-item-body" role="region"
                                    [style.display]="accordionItem2.expanded ? '' : 'none'"
                                    [attr.id]="'accordion-body-' + i"
                                    [attr.aria-labelledby]="'accordion-header-' + i">{{d.treatment|slice:30}}</span><span
                                    class="example-accordion-item-description text-primary">{{ accordionItem2.expanded ?
                                    ' less' : ' more...' }}
                                </span>
                            </span>
                        </cdk-accordion-item>
                    </cdk-accordion>

                </td>
                <td class="blueData" (click)="goToshowDisease(d.id)">{{d.created_at | slice:0:10}}</td>
                <td>
                    <span class="icona1"><i class="fa fa-pencil" (click)="goToEditDisease(d.id)"></i>
                    </span><span class="icona2"><i class="fa fa-trash" (click)="deleteDisease(d.id)"></i></span>
                </td>
            </tr>


        </table>
    </div>


    <h1 class="table-name">Last Advices</h1>
    <div class="tab">
        <table class="table ">
            <thead class="table-secondary">
                <th>#</th>
                <th>Status</th>
                <th>Advice</th>
                <th>Created At</th>
                <th>Actions</th>
            </thead>

            <tr *ngFor="let advice of AllAdvices; let i = index">
                <td>{{i+1}}</td>
                <td>{{advice.status}}</td>
                <td class="no-p">

                    <cdk-accordion class="example-accordion">
                        <cdk-accordion-item #accordionItem="cdkAccordionItem" class="example-accordion-item"
                            role="button" tabindex="0" [attr.id]="'accordion-header-' + i"
                            [attr.aria-expanded]="accordionItem.expanded" [attr.aria-controls]="'accordion-body-' + i">
                            <span class="example-accordion-item-header" (click)="accordionItem.toggle()">
                                {{advice.advice| slice:0:80}}<span class="example-accordion-item-body" role="region"
                                    [style.display]="accordionItem.expanded ? '' : 'none'"
                                    [attr.id]="'accordion-body-' + i"
                                    [attr.aria-labelledby]="'accordion-header-' + i">{{advice.advice|slice:80}}
                                </span>

                                <span class="example-accordion-item-description text-primary">
                                    {{ accordionItem.expanded ? ' less' : ' more...' }}
                                </span>
                            </span>
                        </cdk-accordion-item>
                    </cdk-accordion>

                </td>
                <td class="blueData">{{advice.created_at | slice :0:10}}</td>
                <td>
                    <span class="icona1"><i class="fa fa-pencil" (click)="goToEdit(advice.id)"></i></span>
                    <span class="icona2"><i class="fa fa-trash" (click)="deleteadvice(advice.id)"></i></span>
                </td>
            </tr>
        </table>
    </div>
</div>